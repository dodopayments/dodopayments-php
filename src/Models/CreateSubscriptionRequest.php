<?php

// This file was generated by liblab | https://liblab.com/

namespace Dodopayments\Models;

use Symfony\Component\Serializer\Annotation\SerializedName;

/**
 * Request payload for creating a new subscription

This struct represents the data required to create a new subscription in the system.
It includes details about the product, quantity, customer information, and billing details.
 */
class CreateSubscriptionRequest
{
    /**
     * @var AttachAddonReq[]|null
     * Attach addons to this subscription
     */
    #[SerializedName('addons')]
    public ?array $addons;

    /**
	 * @var PaymentMethodTypes[]|null
	 * List of payment methods allowed during checkout.

Customers will **never** see payment methods that are **not** in this list.
However, adding a method here **does not guarantee** customers will see it.
Availability still depends on other factors (e.g., customer location, merchant settings).
	 */
    #[SerializedName('allowed_payment_method_types')]
    public ?array $allowedPaymentMethodTypes;

    #[SerializedName('billing')]
    public BillingAddress $billing;

    #[SerializedName('billing_currency')]
    public ?Currency $billingCurrency;

    #[SerializedName('customer')]
    public CustomerRequest $customer;

    /**
     * Discount Code to apply to the subscription
     */
    #[SerializedName('discount_code')]
    public ?string $discountCode;

    #[SerializedName('metadata')]
    public ?array $metadata;

    #[SerializedName('on_demand')]
    public ?OnDemandSubscriptionReq $onDemand;

    /**
	 * If true, generates a payment link.
Defaults to false if not specified.
	 */
    #[SerializedName('payment_link')]
    public ?bool $paymentLink;

    /**
     * Unique identifier of the product to subscribe to
     */
    #[SerializedName('product_id')]
    public string $productId;

    /**
     * Number of units to subscribe for. Must be at least 1.
     */
    #[SerializedName('quantity')]
    public int $quantity;

    /**
     * Optional URL to redirect after successful subscription creation
     */
    #[SerializedName('return_url')]
    public ?string $returnUrl;

    /**
	 * Display saved payment methods of a returning customer
False by default
	 */
    #[SerializedName('show_saved_payment_methods')]
    public ?bool $showSavedPaymentMethods;

    /**
     * Tax ID in case the payment is B2B. If tax id validation fails the payment creation will fail
     */
    #[SerializedName('tax_id')]
    public ?string $taxId;

    /**
	 * Optional trial period in days
If specified, this value overrides the trial period set in the product's price
Must be between 0 and 10000 days
	 */
    #[SerializedName('trial_period_days')]
    public ?int $trialPeriodDays;

    public function __construct(
        ?array $addons = [],
        ?array $allowedPaymentMethodTypes = [],
        BillingAddress $billing,
        ?Currency $billingCurrency = null,
        CustomerRequest $customer,
        ?string $discountCode = null,
        ?array $metadata = [],
        ?OnDemandSubscriptionReq $onDemand = null,
        ?bool $paymentLink = null,
        string $productId,
        int $quantity,
        ?string $returnUrl = null,
        ?bool $showSavedPaymentMethods = null,
        ?string $taxId = null,
        ?int $trialPeriodDays = null
    ) {
        $this->addons = $addons;
        $this->allowedPaymentMethodTypes = $allowedPaymentMethodTypes;
        $this->billing = $billing;
        $this->billingCurrency = $billingCurrency;
        $this->customer = $customer;
        $this->discountCode = $discountCode;
        $this->metadata = $metadata;
        $this->onDemand = $onDemand;
        $this->paymentLink = $paymentLink;
        $this->productId = $productId;
        $this->quantity = $quantity;
        $this->returnUrl = $returnUrl;
        $this->showSavedPaymentMethods = $showSavedPaymentMethods;
        $this->taxId = $taxId;
        $this->trialPeriodDays = $trialPeriodDays;
    }
}
